<div class="page page-our-work anim-in-out anim-slide-below-fade" ng-cloak>

    <div class="library--container library--container--home">

      <div class="bg-strip inner-hero library-item">
        <div class="container">
          <div class="intro text-align-center white">
            <h1>Library</h1>
            <div class="subhead">
              Here you will find resources relating to our products and other information.
            </div>
            <div class="search">
              <form class="library-search">
                <input type="search" class="form-control" placeholder="Search" ng-model="searchProjects" ng-model-options="{debounce: 800}">
                <span class="search-cancel" ng-click="searchProjects = ''"></span>
              </form>
            </div>
          </div>
        </div>
      </div>

      <div class="section-strip inner-page-section grey-bg library-item" ng-if="!searchProjects">
        <div class="container">
          <article class="news--article news--featured--article" ng-repeat="post in posts | filter: post: post.acf.is_featured='True'">
            <div class="library--featured-image" ng-repeat="asset_url in post.acf.expertise_assets">
              <picture picturefill ng-if="asset_url.image_asset">
                  <a href="{{site + '#/library/' + post.slug}}"><img ng-srcset="{{asset_url.image_asset | to_trustedURL}}" alt="{{post.title.rendered | to_trusted}}" class="scroll-element"  imageonload="contentLoaded()" /></a>
              </picture>
              </div>
              <div class="library--featured-text">
                <a href="{{site + '#/library/' + post.slug}}"><h2 ng-bind-html="post.title.rendered | to_trusted"></h2></a>
                <p ng-bind-html="post.excerpt.rendered | to_trusted"></p>
                <div class="library--author" ng-repeat="asset_url in post.acf.author_image_thumb">
                  <picture picturefill ng-if="asset_url.image_asset">
                      <img ng-srcset="{{asset_url.image_asset | to_trustedURL}}" alt="{{post.title.rendered | to_trusted}}" class="scroll-element"  imageonload="contentLoaded()" />
                  </picture>
                  <div class="library--author--info">
                    <div class="blue-slate" ng-bind-html="post.acf.author | to_trusted"></div>
                    <div class="library-item-date">{{post.acf.date}}</div>
                  </div>
                </div>
              </div>
          </article>
        </div>
      </div>

       <div class="library-bottom">
         <div class="inner-page-section">
           <div class="container">
             <ul class="library-categories">
                <li ng-class="{selected : activeMenu === 'recent'}"><a ng-click="categoryFilter = {}; activeMenu = 'recent';searchProjects = false">Recent resources</a></li>
                <li ng-class="{selected : activeMenu === 'sustainable'}"><a ng-click="categoryFilter = showSustainable; activeMenu = 'sustainable';searchProjects = false">Sustainable Investing</a></li>
                <li ng-class="{selected : activeMenu === 'personal'}"><a ng-click="categoryFilter = showPersonal; activeMenu = 'personal';searchProjects = false">Personal Finance</a></li>
                <li ng-class="{selected : activeMenu === 'passive'}"><a ng-click="categoryFilter = showPassive; activeMenu = 'passive';searchProjects = false">Passive Investing</a></li>
                <li ng-class="{selected : activeMenu === 'financial'}"><a ng-click="categoryFilter = showFinancial; activeMenu = 'financial';searchProjects = false">Financial Planning</a></li>
                <li ng-class="{selected : activeMenu === 'news'}"><a ng-click="categoryFilter = showNews; activeMenu = 'news';searchProjects = false">News</a></li>
                <li>
                </li>

              </ul>
            </div>
        </div>
        <div ng-if="searchProjects" class="section-strip inner-page-section flush-top featured library-item not-featured">
          <div class="container">
            <div class="search-info">Posts that contain '<span class="search-highlight" ng-bind-html="searchProjects"></span>'</div>
            <article class="news--article news--featured--article" ng-repeat="post in posts | filter:searchProjects">
              <div class="library--featured-text">
                <a href="{{site + '#/library/' + post.slug}}"><h2 ng-bind-html="post.title.rendered | to_trusted"></h2></a>
              </div>
            </article>
            <div class="search-info search-none">Sorry, there are no posts that include '<span class="search-highlight" ng-bind-html="searchProjects"></span>'
            </div>
          </div>
        </div>
        <div ng-repeat="post in posts | filter:categoryFilter | filter: post: post.acf.is_featured='False'" ng-if="!searchProjects">
          <div class="section-strip inner-page-section featured library-item not-featured">
            <div class="container">
              <article class="news--article news--featured--article">
                <div class="library--featured-image" ng-repeat="asset_url in post.acf.expertise_assets">
                  <picture picturefill ng-if="asset_url.image_asset">
                      <a href="{{site + '#/library/' + post.slug}}"><img ng-srcset="{{asset_url.image_asset | to_trustedURL}}" alt="{{post.title.rendered | to_trusted}}" class="scroll-element"  imageonload="contentLoaded()" /></a>
                  </picture>
                  </div>
                  <div class="library--featured-text">
                    <a href="{{site + '#/library/' + post.slug}}"><h2 ng-bind-html="post.title.rendered | to_trusted"></h2></a>
                    <p ng-bind-html="post.excerpt.rendered | to_trusted"></p>
                    <div class="library--author" ng-repeat="asset_url in post.acf.author_image_thumb">
                      <picture picturefill ng-if="asset_url.image_asset">
                          <img ng-srcset="{{asset_url.image_asset | to_trustedURL}}" alt="{{post.title.rendered | to_trusted}}" class="scroll-element"  imageonload="contentLoaded()" />
                      </picture>
                      <div class="library--author--info">
                        <span class="blue-slate" ng-bind-html="post.acf.author | to_trusted"></span>
                        <span class="library-item-date">{{post.acf.date}}</span>
                      </div>
                    </div>
                  </div>
              </article>
            </div>
          </div>
        </div>
        <div>
          <div class="section-strip inner-page-section featured library-item not-featured">
            <div class="grid">
              <hr class="site-footer-divider">
            </div>
          </div>
        </div>
      </div>
    </div>
</div>
